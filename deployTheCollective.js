// Add web3 to console
const Web3 = require('web3');

// Connect to local Ethereum node
const web3 = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));

var _isSponsor = true ;
var duration = 365 ;
var _sponsors = [web3.eth.accounts[3], web3.eth.accounts[4]];
var _individuals = [web3.eth.accounts[0], web3.eth.accounts[1]] ;
var thecollectiveContract = web3.eth.contract([{"constant":true,"inputs":[],"name":"getIndividuals","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"startDate","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"daysSinceInception","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getInitializer","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getTotalMilestoneNum","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getMilestones","outputs":[{"name":"","type":"bytes32[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"individuals","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_name","type":"bytes32"},{"name":"_daysToPayout","type":"uint256"},{"name":"_payoutVal","type":"uint256"},{"name":"_steps","type":"uint256"}],"name":"createMilestone","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getSponsors","outputs":[{"name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"sponsors","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"initializer","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getNextMilestoneNum","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_steps","type":"uint256"}],"name":"payoutMilestone","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"fund","outputs":[{"name":"","type":"bool"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"endDate","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"numMilestones","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"milestones","outputs":[{"name":"name","type":"bytes32"},{"name":"start","type":"uint256"},{"name":"daysToPayout","type":"uint256"},{"name":"payoutVal","type":"uint256"},{"name":"steps","type":"uint256"},{"name":"paidOut","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_isSponsor","type":"bool"},{"name":"duration","type":"uint256"},{"name":"_sponsors","type":"address[]"},{"name":"_individuals","type":"address[]"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}]);
var thecollective = thecollectiveContract.new(
   _isSponsor,
   duration,
   _sponsors,
   _individuals,
   {
     from: web3.eth.accounts[2], 
     data: '0x606060405234156200001057600080fd5b60405162000ffc38038062000ffc833981016040528080519060200190919080519060200190919080518201919060200180518201919050506000804260058190555062015180850242016006819055508515620000d357600080548060010182816200007e9190620002b6565b9160005260206000209001600033909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505062000139565b60018054806001018281620000e99190620002b6565b9160005260206000209001600033909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550505b600091505b8351821015620001d157600080548060010182816200015e9190620002b6565b9160005260206000209001600086858151811015156200017a57fe5b90602001906020020151909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550508160010191506200013e565b600090505b8251811015620002695760018054806001018281620001f69190620002b6565b9160005260206000209001600085848151811015156200021257fe5b90602001906020020151909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050806001019050620001d6565b33600260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050505050506200030d565b815481835581811511620002e057818360005260206000209182019101620002df9190620002e5565b5b505050565b6200030a91905b8082111562000306576000816000905550600101620002ec565b5090565b90565b610cdf806200031d6000396000f300606060405236156100ee576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680621a2d42146100f35780630b97bc861461015d57806311b5e6f0146101865780633e104a95146101af5780634258cb9e14610204578063629e4ed01461022d57806366542aa71461029757806366eae86e146102fa5780638ce900bd1461033c57806393066b4c146103a65780639ce110d7146104095780639f272ee21461045e578063b116619d14610487578063b60d4288146104aa578063c24a0f8b146104cc578063cedece74146104f5578063e89e4ed61461051e575b600080fd5b34156100fe57600080fd5b610106610584565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561014957808201518184015260208101905061012e565b505050509050019250505060405180910390f35b341561016857600080fd5b610170610618565b6040518082815260200191505060405180910390f35b341561019157600080fd5b61019961061e565b6040518082815260200191505060405180910390f35b34156101ba57600080fd5b6101c2610652565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561020f57600080fd5b61021761067c565b6040518082815260200191505060405180910390f35b341561023857600080fd5b610240610689565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610283578082015181840152602081019050610268565b505050509050019250505060405180910390f35b34156102a257600080fd5b6102b8600480803590602001909190505061072d565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561030557600080fd5b61033a60048080356000191690602001909190803590602001909190803590602001909190803590602001909190505061076c565b005b341561034757600080fd5b61034f61082d565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b83811015610392578082015181840152602081019050610377565b505050509050019250505060405180910390f35b34156103b157600080fd5b6103c760048080359060200190919050506108c1565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561041457600080fd5b61041c610900565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561046957600080fd5b610471610926565b6040518082815260200191505060405180910390f35b341561049257600080fd5b6104a860048080359060200190919050506109dd565b005b6104b2610b91565b604051808215151515815260200191505060405180910390f35b34156104d757600080fd5b6104df610b9a565b6040518082815260200191505060405180910390f35b341561050057600080fd5b610508610ba0565b6040518082815260200191505060405180910390f35b341561052957600080fd5b61053f6004808035906020019091905050610ba6565b60405180876000191660001916815260200186815260200185815260200184815260200183815260200182151515158152602001965050505050505060405180910390f35b61058c610bfe565b600180548060200260200160405190810160405280929190818152602001828054801561060e57602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190600101908083116105c4575b5050505050905090565b60055481565b6000806018603c80600554420381151561063457fe5b0481151561063e57fe5b0481151561064857fe5b0490508091505090565b6000600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000600380549050905090565b610691610c12565b610699610c12565b60006003805490506040518059106106ae5750595b90808252806020026020018201604052509150600090505b600380549050811015610725576003818154811015156106e257fe5b906000526020600020906006020160000154828281518110151561070257fe5b9060200190602002019060001916908160001916815250508060010190506106c6565b819250505090565b60018181548110151561073c57fe5b90600052602060002090016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600380548060010182816107809190610c26565b9160005260206000209060060201600060c060405190810160405280886000191681526020016005548152602001878152602001868152602001858152602001600015158152509091909150600082015181600001906000191690556020820151816001015560408201518160020155606082015181600301556080820151816004015560a08201518160050160006101000a81548160ff02191690831515021790555050505050505050565b610835610bfe565b60008054806020026020016040519081016040528092919081815260200182805480156108b757602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001906001019080831161086d575b5050505050905090565b6000818154811015156108d057fe5b90600052602060002090016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600260009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600080600061093361061e565b9150600090505b6003805490508110156109d7578160038281548110151561095757fe5b9060005260206000209060060201600201541180156109a757506000151560038281548110151561098457fe5b906000526020600020906006020160050160009054906101000a900460ff161515145b156109b4578092506109d8565b6001600380549050038114156109cc578092506109d8565b80600101905061093a565b5b505090565b60008060006109ea61061e565b92506109f4610926565b9150600382815481101515610a0557fe5b9060005260206000209060060201600401548410158015610a485750600083600384815481101515610a3357fe5b90600052602060002090600602016002015403115b8015610a85575060001515600383815481101515610a6257fe5b906000526020600020906006020160050160009054906101000a900460ff161515145b15610b8b576001600383815481101515610a9b57fe5b906000526020600020906006020160050160006101000a81548160ff021916908315150217905550600090505b600180549050811015610b8a57600181815481101515610ae457fe5b906000526020600020900160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166108fc600180549050600385815481101515610b3e57fe5b906000526020600020906006020160030154811515610b5957fe5b049081150290604051600060405180830381858888f193505050501515610b7f57600080fd5b806001019050610ac8565b5b50505050565b60006001905090565b60065481565b60045481565b600381815481101515610bb557fe5b90600052602060002090600602016000915090508060000154908060010154908060020154908060030154908060040154908060050160009054906101000a900460ff16905086565b602060405190810160405280600081525090565b602060405190810160405280600081525090565b815481835581811511610c5357600602816006028360005260206000209182019101610c529190610c58565b5b505050565b610cb091905b80821115610cac5760008082016000905560018201600090556002820160009055600382016000905560048201600090556005820160006101000a81549060ff021916905550600601610c5e565b5090565b905600a165627a7a72305820aa82288a0fd55a57f220d37f9cd3cbe35adb1a4756d29df13064e0a0fb2506e20029', 
     gas: '4700000'
   }, function (e, contract){
    console.log(e, contract);
    if (typeof contract.address !== 'undefined') {
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
 });